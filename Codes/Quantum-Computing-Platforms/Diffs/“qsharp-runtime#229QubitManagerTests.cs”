125a126,127
>             // Test allocating qubits over capacity
>             OperationsTestHelper.IgnoreDebugAssert(() =>
127d128
<                 QubitManager qm_small = new QubitManager(2);
129,135d129
<                 Assert.Throws<NotEnoughQubits>(() => n_q = qm_small.Allocate(5));
<             }
<             {
<                 QubitManager qm_small = new QubitManager(2);
<                 IQArray<Qubit> n_q;
<                 Assert.Throws<NotEnoughQubits>(() => n_q = qm_small.Borrow(5, null));
<             }
137,146c131,135
<             {
<                 QubitManager qm_small = new QubitManager(20);
<                 IQArray<Qubit> n_q;
<                 Assert.Throws<ArgumentException>(() => n_q = qm_small.Allocate(-2));
<             }
<             {
<                 QubitManager qm_small = new QubitManager(20);
<                 IQArray<Qubit> n_q;
<                 Assert.Throws<ArgumentException>(() => n_q = qm_small.Borrow(-2, null));
<             }
---
>                 Assert.Throws<NotEnoughQubits>(() => n_q = qm.Allocate(10));
>                 Assert.Throws<NotEnoughQubits>(() => n_q = qm.Borrow(25, exclusion));
>                 Assert.Throws<ArgumentException>(() => n_q = qm.Allocate(-2));
>                 Assert.Throws<ArgumentException>(() => n_q = qm.Borrow(-2, exclusion));
>             });
