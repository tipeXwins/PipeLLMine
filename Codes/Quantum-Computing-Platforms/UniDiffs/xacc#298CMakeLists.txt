--- xacc/xacc#298/after/CMakeLists.txt	2022-01-10 16:02:54.000000000 +0000
+++ xacc/xacc#298/before/CMakeLists.txt	2022-01-10 16:02:54.000000000 +0000
@@ -1,14 +1,10 @@
 set(LIBRARY_NAME xacc-py-aer-adapter)
-find_package(Python COMPONENTS Interpreter Development)
-get_filename_component(PYTHON_LIB_NAME ${Python_LIBRARIES} NAME)
-configure_file(aer_python_adapter.in.cpp
-               ${CMAKE_BINARY_DIR}/quantum/plugins/ibm/aer/py-aer/aer_python_adapter.cpp)
-file(GLOB SRC ${CMAKE_BINARY_DIR}/quantum/plugins/ibm/aer/py-aer/aer_python_adapter.cpp)
-include_directories(${CMAKE_CURRENT_SOURCE_DIR})
+file(GLOB SRC *.cpp)
 
 set (CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fno-strict-aliasing -O2 -g -pipe -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wformat -fexceptions --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=native -D_GNU_SOURCE -fPIC -fwrapv")
 add_library(${LIBRARY_NAME} SHARED ${SRC})
 
+find_package(Python COMPONENTS Interpreter Development)
 if(Python_FOUND)
     message(STATUS "${BoldGreen}Found Python version ${Python_VERSION}.${ColorReset}")
    # Check if we have Qiskit installed
@@ -17,7 +13,7 @@
       message(STATUS "${BoldYellow}Qiskit not found. Aer Pulse Simulator is disabled.${ColorReset}")
     else()
         message(STATUS "${BoldGreen}Found Qiskit.${ColorReset}")
-        target_include_directories(${LIBRARY_NAME} PUBLIC . ${Python_INCLUDE_DIRS} ${CMAKE_SOURCE_DIR}/tpls/pybind11/include ${CMAKE_BINARY_DIR})
+        target_include_directories(${LIBRARY_NAME} PUBLIC . ${Python_INCLUDE_DIRS} ${CMAKE_SOURCE_DIR}/tpls/pybind11/include)
         target_link_libraries(${LIBRARY_NAME} PRIVATE Python::Python)
         target_compile_definitions(${LIBRARY_NAME} PUBLIC XACC_QISKIT_FOUND)
     endif()
